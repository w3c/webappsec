# WebAppSec WG - 2025-10-15

[Minutes from the last meeting (2025-08-20)](https://github.com/w3c/webappsec/blob/main/meetings/2025/2025-08-20-minutes.md)

## Logistics

*   **`#webappsec`** on [W3C's slack instance](https://w3ccommunity.slack.com/)
    * <https://www.w3.org/slack-w3ccommunity-invite> if you haven't already joined.
*   **Zoom**:
    * Details at <https://auth.w3.org/?url=https://www.w3.org/groups/wg/webappsec/calendar>

## Attendees

* Mike West (Google)
* Artur Janc (Google)
* Simone Onofri (W3C)
* Anna Weine (Mozilla)
* Andy Paicu (Google)
* Daniel Rubery (Google)
* Tom Schuster (Mozilla)
* Daniel Veditz (Mozilla)
* Hubert Chao
* Danie Huigens
* Mike Taylor (Google)
* Robert Liu (Google)
* Ari (Google)
* Balazs Engedy (Google)
* Simon Friedberger (Mozilla)
* 
*   (You!)

## Agenda

* [`<geolocation>`](https://github.com/WICG/PEPC/blob/main/geolocation_explainer.md) (@andypaicu)
* Publication / Maintenance:
  * Updates and next steps on the path to CR for a variety of documents (@simoneonofri)
  * [Working mode for documents in the CR snapshot model?](https://github.com/w3c/webappsec/issues/688)
*  [TPAC Agenda](https://github.com/w3c/webappsec/issues/689)
* If time allows:
  * [`schemeful-site` referrer policy?](https://github.com/w3c/webappsec-referrer-policy/issues/176) (@arichiv)
  * [Splitting passwords and federations out of Credential Management?](https://github.com/w3c/webappsec-credential-management/issues/255)
  * [Soliciting feedback on an exfiltration-mitigation proposal](https://github.com/mikewest/anti-exfil/) (@mikewest)


## Minutes

### [`<geolocation>`](https://github.com/WICG/PEPC/blob/main/geolocation_explainer.md) (@andypaicu)

Andy Paicu: `<geolocation>` element proposal. This has gone by a few names, `<permission>`, PEPC, etc. Now a stand-alone proposal.

...: Permission prompts gate access to sensitive capabilities. How the browser asks the user to make a permission decision about a capability: geolocation, camera/microphone, etc. Permission prompts are a step that generally happen in the course of site's usage of a capability. The act of using the capability hopefully means the user has context, and will be primed to make a decision.

... The timing of these prompts is controlled by the site. Browsers decide whether to show a prompt or not based on many factors, but the site initiates the request. The permission model varies from browser to browser, but ultimately answers the question of whether a capability is allowed/blocked, or whether the user is asked.

...: For example: simplest model is to just ask the user every time. That isn't a good user experience, as it overloads users with requests. Browsers have mechanisms to ensure users see fewer prompts.

...: Opposite mode: no prompts at all. We could imagine users who would like that to be the model, but the majority of users are interested in seeing _relevant_ prompts. Ideally, users will make decisions only when they're interested in doing so.

...: Balancing act. Powerful capabilities should run through the user, but they shouldn't be annoyed when that happens. Users should see prompts when they want to, and shouldn't when they don't. Obviously, that's a subjective balance and explains some of the variance between browsers as they aim for a better model. But at some point, no positive tradeoffs can be made.

...: Browsers have other surfaces where these decisions can be made. Settings pages, in-product help, etc. But the vast majority of interactions are on the prompt itself.

...: We could provide more tools for developers via the Permissions API. Historically, this hasn't been considered desirable (`navigator.permissions.request()`). We've generally tried to make the flow part of using the capability, not a separate action.

...: Another option is to have a better signal of what the user wants. Current model requires the developer to ask for a capability, and the browser to decide whether to ask the user. Would be better for users to drive the process. User activation is a commonly signal, but not a strong one. This proposal aims to create a higher-trust signal of user intent.

...: `<geolocation>`. In-page HTML element. Mostly browser-controlled persentation, with limited styling and display options. Clicking the element initiates obtaining a user's geolocation, driven by the user. Different from previous iteration of `<permission>`, this focuses on a specific capability. There's another proposal elsewhere for `<usermedia>`.

...: Example code! See https://github.com/WICG/PEPC/blob/main/geolocation_explainer.md#mock-user-journey.

...: Generally no need to call the geolocation API yourself, the element takes care of it. Event-driven. Simpler than the previous `<permission>` proposal. [Code example goes here].

```
<geolocation id="geo"
             onlocation="populateAddress()"
             accuracymode="precise">
<!-- here maybe some fallback contents -->
</geolocation>

<script>
  function populateAddress() {
    let el = document.getElementById("geo");
    if (el.position !== undefined) {  
      let address = favoriteGeoLibrary.reverseGeocode(el.position).address;
      fillInAddressField(address); 
    } else {
      handleError(el.error);
    }
  }
</script>
```

...: In Origin Trial in Chrome: experiments running on Google Search.

...: Signal integrity, aka prevent clickjacking. Two conditions: text is visible/legible, and that's been the case for some time (500ms in Chromium). If these aren't met, the element is considered invalid. Site might want fallback behavior in cases where the element is invalid, so it's exposed as an attribute on the element.

...: Visible/legible: not covered by other elements, fully in the viewport, contrast is sufficient, font-size is within adequate bounds, width/height are within adequate bounds. Working on a spec with all these details.

...: Sufficient time: any transition from invalid to valid state happens after a short delay, not immediately. Aims to ensure that users have sufficient time to see the element, and that clicks on it are less-likely to be accidental or confused.

...: `<geolocation>` provides a strong signal of user intent, allowing browsers to make better decisions about their permission models' impact on users. First element proposed, but the concept applies to other capabilities as well. `<usermedia>` is in development.

...: Links:
 * Explainer: https://github.com/WICG/PEPC/blob/main/geolocation_explainer.md
 * Old explainer: https://github.com/WICG/PEPC/blob/main/explainer.md
 * Dev instructions: https://github.com/WICG/PEPC/blob/main/HOWTO.md 
 * Spec (WIP): https://wicg.github.io/PEPC/permission-elements.html 
 * Demo site: https://permission.site/pepc
 * Usermedia element (not in presentation): https://github.com/WICG/PEPC/blob/main/usermedia_element.md


Mike Taylor: Example code in one of the slides: `location` event. This looks novel, reading a property on the element as opposed to event properties?

Andy: Not a hard requirement. We went with this because it felt reasonable to make the location available whenever the element's there, not just in the context of an event advertising its availability. Seemed redundant to expose it in the event as well, but we could do that.

Mike: Anyone with access to the DOM could read that rather than stashing the value provided from an event. Interesting. I'll go read the spec.

Andy: Spec isn't yet complete, but making good progress. Should be done before TPAC.

Hubert Chao: You mentioned that developers shouldn't think about the permission model. How often does that happen?

Andy: In practice, some developers really care about user experience and will go to great lengths to provide the best experience. They'll check status, call the API, then debug all the complicated cases (OS vs browser permissions, etc). Some will have instructions for all platform and browser vendor combination. But most will just call the API whenever convinient, perhaps without wondering whether it's a good time.
    
    
### Updates on path to CR

Simone Onofri: Need some prep to move docs to CR. Opened some issues, checklists for some of the documents. Talked with Mike, have a list of things that need to be addressed by document editors.

...: https://github.com/w3c/webappsec/issues/693#issuecomment-3383498427

...: Wide review and horizontal review. We'll poke a variety of cross-cutting groups and ask for feedback from a broad set of viewpoints. Some specific groups have specific questionnaires (a11y), TAG review, i18n, privacy, security; separate processes for each. Minimum 28 days for the review. They might make suggestions, requests for edits. When transitioning to CR, folks will check that we've cleared all the issues labeled as "needs resolution" raised in these reviews.

Mike West: Should go through all our docs at TPAC.


### Working mode?

Mike West: As we shift towards a CR-snapshot model for more stable specifications, it's worth deciding how we want to maintain them. Freddy's landed templates for SRI (https://github.com/w3c/webappsec-subresource-integrity/blob/main/.github/pull_request_template.md and https://github.com/w3c/webappsec-subresource-integrity/tree/main/.github/ISSUE_TEMPLATE) that are modeled on WHATWG and that group's https://whatwg.org/working-mode. Perhaps we should consider adopting something similar in this group?

...: Ideally, we'll do this at TPAC.

Dan: I'm in favor. [additional positive zoom reactions from others in the room]


### TPAC

Mike West: TPAC is in a ~month. It'd be ideal to start pulling an agenda together. Some ideas in https://github.com/w3c/webappsec/issues/689. More would be lovely. Other ideas?

Artur: Some time on XSS mitigations. Trusted Types adoption, CSP script hashes proposal, adoption stories. Nothing critical in the space, but XSS remains a problem we should spend time on.

Mike: Yup.


### Grab bag

#### [`schemeful-site` referrer policy?](https://github.com/w3c/webappsec-referrer-policy/issues/176)

Ari: Referrer-Policy header. Right now, it supports a number of options. This proposal would add `site` or `schemeful-site`, which shares the eTLD+1, rather than the origin. Use cases for this in the issue, consider social media sites that aren't themselves on the PSL, but offer username subdomains. Attribution that wants to send less information than the origin.

#### [Splitting passwords and federations out of Credential Management?](https://github.com/w3c/webappsec-credential-management/issues/255)

#### [Soliciting feedback on an exfiltration-mitigation proposal](https://github.com/mikewest/anti-exfil/) (@mikewest)
